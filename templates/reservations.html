{% extends "base.html" %}

{% block content %}
<div class="container-reservations">
    <h2>Mis Reservas</h2>

    <!-- Reservas en proceso -->
    <h4>Reservas en Proceso</h4>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Alojamiento</th>
                <th>Fecha Inicio</th>
                <th>Fecha Fin</th>
                <th>Estado</th>
                <th>Acci√≥n</th>
            </tr>
        </thead>
        <tbody>
            {% for reserva in reservas_proceso %}
            <tr>
                <td>{{ reserva.id }}</td>
                <td>{{ reserva.alojamiento }}</td>
                <td>{{ reserva.fecha_inicio }}</td>
                <td>{{ reserva.fecha_fin }}</td>
                <td><span class="estado proceso">En Proceso</span></td>
                <td>
                    <form action="{{ url_for('view_user.reservations', reserva_id=reserva.id) }}" method="POST">
                        <button type="submit" class="btn-cancelar">Cancelar</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Reservas finalizadas -->
    <h4>Reservas Finalizadas</h4>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Alojamiento</th>
                <th>Fecha Inicio</th>
                <th>Fecha Fin</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody>
            {% for reserva in reservas_finalizadas %}
            <tr>
                <td>{{ reserva.id }}</td>
                <td>{{ reserva.alojamiento }}</td>
                <td>{{ reserva.fecha_inicio }}</td>
                <td>{{ reserva.fecha_fin }}</td>
                <td><span class="estado finalizada">Finalizada</span></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
